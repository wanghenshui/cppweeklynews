---
layout: post
title:  第99期
---
# C++ 中文周刊 第99期

[周刊项目地址](https://github.com/wanghenshui/cppweeklynews)

公众号

<img src="https://wanghenshui.github.io/cppweeklynews/assets/code.png" alt=""  width="30%">

弄了个qq频道，[手机qq点击进入](https://qun.qq.com/qqweb/qunpro/share?_wv=3&_wwv=128&inviteCode=xzjHQ&from=246610&biz=ka)

RSS https://github.com/wanghenshui/cppweeklynews/releases.atom

欢迎投稿，推荐或自荐文章/软件/资源等

请[提交 issue](https://github.com/wanghenshui/cppweeklynews/issues)

20230203

---

## 资讯

标准委员会动态/ide/编译器信息放在这里

[编译器信息最新动态推荐关注hellogcc公众号 2023-02-01 第187期](https://mp.weixin.qq.com/s/KuQSgi02xBQ-eQfy9QMkIQ)

有武汉线下活动，可以关注

[fishshell这个项目宣布用rust重写了。理由是c++太差了周边编译设施等等太难用了之类的 ](https://github.com/fish-shell/fish-shell/pull/9512#issuecomment-1410820102)


对此笔者瑞锐评：确实

reddit社区对此锐评: Stop Comparing Rust to Old C++

我觉得有点露怯了，实话实说，构建确实不好用，演进也慢，你说meson conan能用我只能说还差点意思

而且c++开源社区开发人员也差点意思，没那个功夫，但rust就很不一样，很多人愿意拿rust联手。

只能说c++周边的演进还需要加快一些。周边文章咨询写的多一些，更通俗易懂一些，知道的人越多越好。大家多写文章多分享啊

本周还有一个事情是yandex的代码泄露，磁力链接在这个答案可以看到，https://www.zhihu.com/question/580980335/answer/2867507106

这两天看了下，cpp的项目挺有意思，但两个组件库util和mapreduce是没泄露的，比较可惜，要是都泄露了我就要创业了

不过一个成熟的引擎，数据是最重要的，没有数据，工具没啥意义。

他们的代码接口风格还是98那套Interface形式，但是都用的pragram once，没用Macro Guard，给人一种老太太用神仙水的反差感

另外有人问为啥他们数据库代码没泄露。。他们用的ydb本身就是开源的。

## 文章

- [C++ Ecosystem in 2022: Fast Adoption of C++17 and C++20, C++ Toolset Landscape, and Better Code Analysis Practices](https://blog.jetbrains.com/clion/2023/01/cpp-ecosystem-in-2022/)

jetbrains出的报告，关于c++20使用，编译工具cmake使用率，代码分析使用率做了个列举，这里直接贴一下

构建工具，cmake越来越普及，虽然难用


<img src="https://blog.jetbrains.com/wp-content/uploads/2023/01/project_models_2022.png" alt=""  width="80%">

什么？你想问包管理工具？

<img src="https://blog.jetbrains.com/wp-content/uploads/2023/01/packages_2022.png" alt=""  width="80%">

嘻嘻，没人用

用什么测试框架？

<img src="https://blog.jetbrains.com/wp-content/uploads/2023/01/unit_testing_2022.png" alt=""  width="80%">

甚至不写测试

使用什么代码分析工具？

<img src="https://blog.jetbrains.com/wp-content/uploads/2023/01/code_analysis_2022.png" alt=""  width="80%">

嘻嘻，甚至不用分析工具

完整报告可以去他们官网看。这里不列举了

- [All about UndefinedBehaviorSanitizer ](https://maskray.me/blog/2023-01-29-all-about-undefined-behavior-sanitizer)

介绍UBSan的方方面面使用

- [Did you about C++20 is_layout_compatible_v type_trait? ](https://github.com/QuantlabFinancial/cpp_tip_of_the_week/blob/master/tips/315.md)

看代码

```cpp
struct foo {
    int a{};
    int b{};
};

struct bar {
    const int x{};
    int y{};
};

struct baz : bar { };

struct other {
    int a{};
    char b[4]{};
};

static_assert(not std::is_layout_compatible_v<void, int>);
static_assert(not std::is_layout_compatible_v<const int*, const int&>);

static_assert(std::is_layout_compatible_v<const int, int const volatile>);
static_assert(std::is_layout_compatible_v<foo, bar>);
static_assert(std::is_layout_compatible_v<foo, baz>);
static_assert(std::is_layout_compatible_v<bar, baz>);
static_assert(not std::is_layout_compatible_v<bar, other>);
static_assert(not std::is_layout_compatible_v<bar, void>);
```

- [Web Scraping with C++](https://www.scrapingbee.com/blog/web-scraping-c++/#building-the-web-scraper)

libcurl gumbo使用教学

- [关于MLIR的学习实践分析与思考](https://zhuanlan.zhihu.com/p/599281935)
- [怎样去学习mlir这套框架](https://www.zhihu.com/question/435109274/answer/2849330076)

关于MLIR的资料不多，这个小伙可以关注关注，大家感兴趣的可以看看
## 视频

- [C++ Weekly - Ep 361 - Is A Better `main` Possible?](https://www.youtube.com/watch?v=zCzD9uSDI8c)

觉得main过于繁琐, 参数不好用，难以理解，给了个解决例子

```cpp
#include <array>
#include <span>
#include <string_view>


constexpr std::span<std::string_view> start(int argc, char** argv) {
  static std::array<std::string_view, 255> argvElements = []() -> std::array<std::string_view, 255> {
    std::array<std::string_view, 255> argvElements;
    for (std::size_t i = 0; i < argc; ++i) {
      argvElements[i] = argv[i];
    }
    return argvElements;
  }();

  return argvElements;
}

int better_main(std::span<std::string_view> args);


int main(int argc, const char *argv[]) {
  return start(argc, argc, better_main);
}
```
更多讨论，看这里  https://github.com/lefticus/cpp_weekly/issues/209
## 开源项目需要人手

- [asteria](https://github.com/lhmouse/asteria) 一个脚本语言，可嵌入，长期找人，希望胖友们帮帮忙，也可以加群384042845和作者对线
- [pika](https://github.com/OpenAtomFoundation/pika) 一个nosql 存储， redis over rocksdb，非常需要人贡献代码胖友们， 感兴趣的欢迎加群294254078前来对线

## 新项目介绍/版本更新

- [boost.redis](https://github.com/boostorg/redis) 之前说的redis库进boost了
- [macro_rules](https://github.com/maksym-pasichnyk/macro_rules)上一期聊的反射库，作者封成库了。想研究的可以看看
- [paozhu](https://github.com/hggq/paozhu) 国人开发的web库，和drogon联系过没共建而考虑自己的需求基于asio开发。感兴趣的可以体验一下


## 工作招聘

有没有需要拖地的，我会

---

看到这里或许你有建议或者疑问或者指出错误，请留言评论! 多谢!  你的评论非常重要！也可以帮忙点赞收藏转发！多谢支持！

[本文永久链接](https://wanghenshui.github.io/cppweeklynews/posts/099.html)

如果有疑问评论最好在上面链接到评论区里评论，这样方便搜索，微信公众号有点封闭/知乎吞评论
